<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="user">  

  <select id="nextvalAppUserId">
    SELECT nextval(#{id}) FROM DUAL;
  </select>

  <select id="selctCountUserInfoList">
    SELECT count(*) AS totalCount FROM user_info;
  </select>

  <select id="selectUserInfoList">
    SELECT user_id AS userId
         , login_id AS loginId
         , rgst_dtm AS rgstDtm
    FROM user_info
    ORDER BY user_id DESC
    LIMIT ${currentPage}, ${itemPerPage};
  </select>

  <select id="selectUserInfo">
      SELECT
        login_id AS loginId,
        login_pw AS loginPw,
        isfirst AS isFirst,
        user_name AS userName,
        user_level AS userLevel,
        user_status AS userStatus
      FROM
        user_info 
      WHERE
        login_id = #{login_id}
  </select>

  <insert id="insertUserInfo">
    INSERT INTO user_info
    (
      user_id,
      login_id,
      login_pw,
      isfirst,
      user_name,
      user_level,
      user_status
    )
    VALUES
    (
      #{user_id},
      #{login_id},
      #{login_pw},
      #{isfirst},
      #{user_name},
      #{user_level},
      #{user_status}
    )
  </insert>

  <update id="updateModify">
    UPDATE user_info
    SET login_pw = #{new_password}
      , isfirst = #{isfirst}
    WHERE login_id = #{login_id}
  </update>
</mapper>